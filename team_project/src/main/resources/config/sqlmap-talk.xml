<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="talkDao">             
	<select id="Tlist" resultType="talkDto">
		SELECT * FROM boardtalk ORDER BY TNUMBER DESC
	</select>
	
	<select id="Tselect" parameterType="int" resultType="talkDto">
		SELECT * FROM boardtalk WHERE TNUMBER = #{tNumber}
	</select>
	
	<insert id="Tinsert" parameterType="talkDto">
		INSERT INTO boardtalk
		(NAME, EMAIL, TIMAGE, TALK, TDATE)
		VALUES
		(#{tImage}, #{talk}, SYSDATE)
		<selectKey keyProperty="TNUMBER" resultType="Integer">
			SELECT NVL(MAX(TNUMBER),0) FROM boardtalk		
		</selectKey>
	</insert>
	
	<update id="Tupdate" parameterType="talkDto">
		UPDATE boardtalk SET TIMAGE = #{tImage}, TALK = #{talk}, WHERE TNUMBER = #{tNumber}
	</update>
	
	<delete id="Tdelete" parameterType="talkDto">
		DELETE FROM boardtalk WHERE TNUMBER = #{tNumber}
	</delete>
	
	<delete id="deleteAll">
		DELETE FROM boardtalk
	</delete>
	
</mapper>
